{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Hola Django</title>
    <link rel="stylesheet" href="{% static 'RoomFrom/style.css' %}">
</head>
<body>

<h1>Hola Django con HTML!</h1>
<p>Bienvenido a tu primer frontend con Django.</p>

<!-- Botones principales -->
<button onclick="document.getElementById('mst-section').style.display='block'">Explorar MST</button>
<a href="{% url 'ver_compatibles' %}"><button>Buscar compatibilidad de estudiantes</button></a>

<hr>

<!-- Sección MST oculta inicialmente -->
<div id="mst-section" style="display:none">
    <h2>Explora la Conexión Mínima entre Distritos (MST)</h2>

    <form method="get" id="mst-form">
        <label for="origen">Selecciona tu distrito:</label>
        <select name="origen" onchange="document.getElementById('mst-form').submit()">
            <option value="">-- Elige un distrito --</option>
            {% for d in distritos %}
            <option value="{{ d }}" {% if d == origen %}selected{% endif %}>{{ d }}</option>
            {% endfor %}
        </select>
    </form>

    {% if origen %}
    <script>
        // Mantener visible la sección MST después de recargar la página
        document.getElementById('mst-section').style.display = 'block';
    </script>

    <h3>Desde {{ origen }} se puede llegar a:</h3>
    <table border="1">
        <tr>
            <th>Distrito Destino</th>
            <th>Distancia (km)</th>
        </tr>
        {% for dest, peso in destinos %}
        <tr>
            <td>{{ dest }}</td>
            <td>{{ peso }}</td>
        </tr>
        {% endfor %}
    </table>

    <!-- Imagen del MST -->
    <h3>Mapa MST</h3>
    <img src="{% static mst_image %}" alt="MST de distritos" width="600">
    {% endif %}
</div>

</body>
</html>
